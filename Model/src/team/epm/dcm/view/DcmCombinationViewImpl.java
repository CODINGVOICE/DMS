package team.epm.dcm.view;

import java.sql.PreparedStatement;
import java.sql.ResultSet;

import java.sql.SQLException;

import java.util.List;

import oracle.jbo.RowIterator;
import oracle.jbo.server.ViewObjectImpl;
import oracle.jbo.server.ViewRowImpl;
import oracle.jbo.server.ViewRowSetImpl;

import team.epm.dcm.model.DcmCombinationImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Mon Nov 17 15:31:33 CST 2014
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class DcmCombinationViewImpl extends ViewObjectImpl {
    /**
     * This is the default constructor (do not remove).
     */
    public DcmCombinationViewImpl() {
    }

    /**
     * Returns the bind variable value for locale.
     * @return bind variable value for locale
     */
    public String getlocale() {
        return (String)getNamedWhereClauseParam("locale");
    }

    /**
     * Sets <code>value</code> for bind variable locale.
     * @param value value to bind as locale
     */
    public void setlocale(String value) {
        setNamedWhereClauseParam("locale", value);
    }

    public void createTable(String code,List<String> columns) throws SQLException {
        StringBuffer sqlbuf=new StringBuffer();
        sqlbuf.append("CREATE TABLE ");
        sqlbuf.append(code);
        sqlbuf.append("(ID VARCHAR2(32) , ");
        int i;
        for(i=0;i<columns.size();i++){
            String c=columns.get(i);
            sqlbuf.append(c);
            sqlbuf.append(" VARCHAR2(100),");
        }
        sqlbuf.append(" CONSTRAINT PK_"+code+" PRIMARY KEY(ID))");
        String sqlstr=sqlbuf.toString();
        PreparedStatement pst =this.getDBTransaction().createPreparedStatement(sqlstr, 0);
        try {
            pst.executeUpdate();
        } catch (SQLException e) {
            e.printStackTrace();
            throw e;
        }
        this.getDBTransaction().commit();
    }
}
